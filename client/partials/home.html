<style>
    #wrapper {
    	margin: 0px auto;
    	text-align: center;
    }
    #map {
      width: 500px;
      height: 400px;
      display: inline-block;
    }
    #sidebar {
    	display: inline-block;
    	width: 220px;
    	background-color: gray;
    	vertical-align: top;
    }
    #chat {
			height: 200px;
			width: 200px;
			background-color: green;
			display: block;
			padding: 5px;
    }
    #highPriority {
    	height: 200px;
			width: 200px;
			background-color: yellow;
			display: block;
			padding: 5px; 
    }
    #complaints {
    	display: inline-block;
    }
    #footer {
    	text-align: center;
    }
    #hidden {
      display: none;
      height: 500px;
      width: 600px;
      border-radius: 2px solid black;
      background-color: rgba(0,0,0,.5);
      position: absolute;
        left: 25%;
        right: 25%;
        top: 20%;
      color: white;
    }
    #addIssue {
      text-decoration: underline;
      color: green;
      cursor: hand;
    }
    #addIssue:hover {
      color: orange;
      cursor: pointer;
    }

  </style>
<div ng-controller ="UserController" id="wrapper">
	<div id="header">
		<a href="#">Logout</a>
	</div>
	<div id="title">
		<h1>Neighborhood Watch</h1>
    <p id="addIssue">Click here to add an issue</p>
	</div>
	<div id="map">
    <script>
    $(document).ready(function(){
      var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      var labelIndex = 0;
      function initialize() {
        var mapCanvas = document.getElementById('map');
        var mapOptions = {
          center: new google.maps.LatLng(37.3517, -121.9036),
          zoom: 12,
          mapTypeId: google.maps.MapTypeId.HYBRID
        };
        var map = new google.maps.Map(mapCanvas, mapOptions);
        var sj = {lat: 37.3517, lng: -121.9036};
        addMarker(sj, map);
        google.maps.event.addListener(map, 'click', function(event) {
          addMarker(event.latLng, map);
        });
        for (var issue in issues){
          addMarker(latLngObj, map);
        }
      }
       // Adds a marker to the map.
      function addMarker(location, map) {
        var marker = new google.maps.Marker({
          position: location,
          label: labels[labelIndex++ % labels.length],
          map: map
        });
      }
      var sj = {lat: 37.3517, lng: -121.9036};
      addMarker(sj, map);
      google.maps.event.addListener(map, 'click', function(event) {
        addMarker(event.latLng, map);
      });
      function toggleBounce() {
        if (marker.getAnimation() !== null) {
          marker.setAnimation(null);
        } else {
          marker.setAnimation(google.maps.Animation.BOUNCE);
        }
      }
      //Initialize map on window load
      google.maps.event.addDomListener(window, 'load', initialize);

      // function geocodeAddress(geocoder, resultsMap) {
      //   var address = "915 N 2nd St, San Jose, CA";
      //   geocoder.geocode({'address': address}, function(results, status) {
      //     if (status === google.maps.GeocoderStatus.OK) {
      //       resultsMap.setCenter(results[0].geometry.location);
      //       var marker = new google.maps.Marker({
      //         map: resultsMap,
      //         position: results[0].geometry.location
      //       });
      //     } else {
      //       alert('Geocode was not successful for the following reason: ' + status);
      //     }
      //   });
      // }

      $("#addIssue").on("click", function(){
        $("#hidden").fadeToggle();
      });

    });  
    </script>
	</div>

	<div id="complaints" ng-repeat="issue in issues">
    <h3>Issue : <span ng-bind="issue.title"></span></h3>
    <p>Mail : <span ng-bind="issue._user.mail"><span></p>
    <p>Details : <span ng-bind="issue.description"></span></p>
    <p>Complaint logged at : <span ng-bind="issue.created"></span></p>
    <p>Priority : <span ng-bind="issue.priority"></span></p>
    <p>Address : <span ng-bind="issue.street"></span></p>
    <p>Issue status : <span ng-bind="issue.issue_status"></span></p>
    <form>
      <textarea ng-model="new_comment.comment"></textarea>
      <input type="submit" ng-click="addComment(current_user._id)">
    </form>
	</div>
	<div id="sidebar">
		<div id="highPriority">
			High Priority Complaints
		</div>
		<div id="chat">
			Chat Box
		</div>
	</div>
	<div id="footer">
		<a href="#">Contact</a> | <a href="#">About Us</a> | <a href="#">Logout</a>
	</div>
  <div id="hidden">
    <h2>Report a new issue</h2>
    Title:<input type="text" ng-model="new_issue.title" /><br>
    Details:<input type="text" ng-model="new_issue.description" /><br>
    Street Address : <input type="text" ng-model="new_issue.street"><br>
    <input type="submit" ng-click="addIssue(current_user._id)">
  </div>